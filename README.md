# Набор тестов для проверки системы мониторинга Навстат (navstat.ru) #

## Для исполнения тестов необходимо установить ##
- JRE7
- Sikuli
- GIT (по желанию)

## Пошаговая инструкция по развёртыванию тестовой среды ##

- <a href="http://www.java.com/ru/download/index.jsp">Установить JRE7</a> (Если нет)
- <a href="https://launchpad.net/sikuli/+download">Скачать sikuli-setup.jar</a>
- Установить Sikuli:
	- Создать папку для установки - обычно "C:\Program Files (x86)\Sikuli X" или нечто вроде
	- Скопировать sikuli-setup.jar и запустить
	- Нажать ок в появившемся сообщении - должен появиться файл runSetup.cmd
	- Запустить runSetup.cmd
	- Выбрать необходимые пакеты - Pack2 для прогона тестов; Pack1 для редактирования
	- Дальше ответить да на все вопросы
	- Создать переменную среды пользователя SIKULI_HOME = директория куда установлена Sikuli (без кавычек и слеша в конце)
- В не зависимости от того используется ли git/github, добавить переменную среды пользователя GIT_HOME = директория в которой находится sikuli-tests (папка с тестами, скачанная или клонированная git) (например GIT_HOME = D:\GitHub)
- Выйти из системы и вернуться - чтобы новые переменные заработали

## Выполнение тестов ##

* Для выполнения готовых тестов используется HTMLTestRunner
* Для каждого комплекта тестов сделан свой HTMLTestRunner
* Для запуска тест комплекта сделоаны .bat расположенные в директории sikuli-tests
* Для исполнения тест комплекта достаточно запустить соответствующий .bat
* Результат выполнения тест комплекта записывается в одноимённый с ним файл расположенный в директории %GIT_HOME%
	* Например: тест комплект smoketest.sikuli запускается с помощью smoketest.bat и записывает результат в smoketest.html
	* То-же с полными адресами:
		%GIT_HOME%\sikuli-tests\smoketest.sikuli
		%GIT_HOME%\sikuli-tests\smoketest.bat
		%GIT_HOME%\smoketest.html
* Тесты ориентированы на win7 (для работы под xp необходимо переделать функцию удаления данных а точнее %GitHub%\sikuli-tests\baseFunction.sikuli\clear.bat)


## Структура тестов ##

Тесты Sikuli располагаются в папках вида "test_name.sikuli".
Эта папка содержит одноимённый файл (test_name.py) с кодом и файлы картинок (паттерны) (остальное нам не интересно)
В папке %GIT_HOME%\sikuli-tests\img хранятся патерны относящиеся к нескольким тестам (со временем желательно вынести все петерны в эту папку, но SikuliIDE этом препятствует, при возможности она делает копии картинок в директорию теста и ссылается на них)
